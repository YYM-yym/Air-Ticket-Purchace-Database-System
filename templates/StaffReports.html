<!DOCTYPE html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js"> <!--<![endif]-->
<head>
    <title>BookingAgentViewTopCustomers</title>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>Home</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="description" content="Free HTML5 Template by " />
<meta name="keywords" content="" />
<meta name="author" content="" />

<!-- Facebook and Twitter integration -->
<meta property="og:title" content=""/>
<meta property="og:image" content=""/>
<meta property="og:url" content=""/>
<meta property="og:site_name" content=""/>
<meta property="og:description" content=""/>
<meta name="twitter:title" content="" />
<meta name="twitter:image" content="" />
<meta name="twitter:url" content="" />
<meta name="twitter:card" content="" />

<!-- Place favicon.ico and apple-touch-icon.png in the root directory -->
<link rel="shortcut icon" href="favicon.ico">

<link href='https://fonts.googleapis.com/css?family=Open+Sans:400,700,300' rel='stylesheet' type='text/css'>

<!-- Animate.css -->
<link rel="stylesheet" href="css/animate.css">
<!-- Icomoon Icon Fonts-->
<link rel="stylesheet" href="css/icomoon.css">
<!-- Bootstrap  -->
<link rel="stylesheet" href="css/bootstrap.css">
<!-- Superfish -->
<link rel="stylesheet" href="css/superfish.css">
<!-- Magnific Popup -->
<link rel="stylesheet" href="css/magnific-popup.css">
<!-- Date Picker -->
<link rel="stylesheet" href="css/bootstrap-datepicker.min.css">
<!-- CS Select -->
<link rel="stylesheet" href="css/cs-select.css">
<link rel="stylesheet" href="css/cs-skin-border.css">

<link rel="stylesheet" href="css/style.css">


<!-- Modernizr JS -->
<script src="js/modernizr-2.6.2.min.js"></script>


<script type="application/x-javascript"> addEventListener("load", function() { setTimeout(hideURLbar, 0); }, false);
		function hideURLbar(){ window.scrollTo(0,1); } </script>
<!-- //for-mobile-apps -->
<link href="css/bootstrap.css" rel="stylesheet" type="text/css" media="all" />
<link href="css/style.css" rel="stylesheet" type="text/css" media="all" />
<!-- js -->
<script src="https://code.highcharts.com/highcharts.js"></script>
<style>
canvas {
	-moz-user-select: none;
	-webkit-user-select: none;
	-ms-user-select: none;
}
</style>

<script src="js/jquery-1.11.1.min.js"></script>
<!-- //js -->
<!-- login-pop-up -->
<script src="js/menu_jquery.js"></script>
<!-- //login-pop-up -->
<!-- animation-effect -->
<link href="css/animate.min.css" rel="stylesheet">
<script src="js/wow.min.js"></script>

<script>
 new WOW().init();
</script>
<!-- //animation-effect -->

</head>
<body>
<!-- //animation-effect -->

</head>
<body>
<!-- header -->
</head>
<body>
    <div id="fh5co-wrapper">
    <div id="fh5co-page">

    <header id="fh5co-header-section" class="sticky-banner">
        <div class="container">
            <div class="header-top-right">
                <!-- login for customer -->
                <ul class="nav navbar-nav">
                    <li><a href="/AirlineStaffLogout">Logout</a></li>
                <!-- login for customer -->
            </div>
            <div class="clearfix"> </div>
        </div>
    <div class="container">
            <div class="nav-header">
                <a href="#" class="js-fh5co-nav-toggle fh5co-nav-toggle dark"><i></i></a>
                <h1 id="fh5co-logo"><a href="index"><i class="icon-airplane"></i>FlightGo</a></h1>
                <!-- START #fh5co-menu-wrap -->
                <nav id="fh5co-menu-wrap" role="navigation">
                    <ul class="sf-menu" id="fh5co-primary-menu">
                        <li><a href="/StaffViewMyFlights">View My flights</a></li>
							<li>
								<a href="#" class="fh5co-sub-ddown">Administrative Operations</a>
								<ul class="fh5co-sub-menu">
									<li><a href="/StaffCreateNewFlights">Create New Flights</a></li>
									<li><a href="/StaffChangeStatusofFlights">Change Status of Flights</a></li>
									<li><a href="/StaffAddAirplane">Add Airplane</a></li>
									<li><a href="/StaffAddNewAirport">Add Airport</a></li>
								</ul>
							</li>
							<li class="active">
								<a href="#" class="fh5co-sub-ddown">View</a>
								<ul class="fh5co-sub-menu">
									<li><a href="/StaffViewBookingAgent">Booking Agent</a></li>
									<li><a href="/StaffViewFrequentCustomers">Frequent Customers</a></li>
									<li class="active"><a href="/StaffReports">Reports</a></li>
								</ul>
							</li>
						<li><a href="/StaffComparisonOfRevenueEarned">Comparison Of Revenue Earned</a></li>
						<li><a href="/StaffViewTopDestinations">Top Destinations</a></li>
                    </ul>
                </nav>
            </div>
        </div>
    </header>

<!-- //header -->
<!--typography-page -->
	<div class="typo">
		<div class="container">
			<h3 class="title animated wow zoomIn">Reports</h3>
			<!-- for-specify a range of dates -->
				<form action="/StaffReports" onSubmit="return false;" action="#">
					<div class="col-xxs-12 col-xs-6 mt alternate">
						<div class="input-field">
							<label for="date-start">Start Date</label>
							<input type="date" class="form-control" id = "StartTime" name = "StartTime" placeholder="Start time" aria-describedby="basic-addon1" required/></br>
						</div>
					</div>
					<div class="col-xxs-12 col-xs-6 mt alternate">
						<div class="input-field">
							<label for="date-start">End Date</label>
							<input type="date" class="form-control" id = "EndTime"name = "EndTime" placeholder="End time" aria-describedby="basic-addon1" required/></br>
						</div>
					</div>
					<div class="col-xs-offset-10">
						<input type="button" class="btn btn-primary btn-block" value="Submit" onclick="onSubmit()">
					</div>
				</form>
			<!-- end-for-specify a range of dates -->
			<!-- for-bar charts -->
		</div>
		<div id="container_chart"></div>
	</div>

<!-- //typography-page -->
<!-- footer -->
<div class="footer-copy">
	<div class="container">
		<div class="footer-left animated wow slideInUp">
			<p>Copyright &copy; 2021. Yumo & Chengxi All rights reserved.</p>
		</div>
	</div>
</div>
<!-- //footer -->
<!-- for bootstrap working -->
	<script src="js/bootstrap.js"></script>
<!-- //for bootstrap working -->

<script>
function onSubmit() {
	console.log("onSubmit!!!");
	console.log(document.getElementById("StartTime").value);
	console.log(document.getElementById("EndTime").value);
	$.ajax({
		type: "POST",
		url: "http://127.0.0.1:5000/StaffReports",
		dataType: "json",
		data: {
			StartTime: document.getElementById("StartTime").value,
			EndTime: document.getElementById("EndTime").value
		},
		success: data => {
			console.log(data);
			Highcharts.chart('container_chart', {
				chart: {
					type: 'column'
				},
				title: {
					text: 'Month-wise Tickets Sold'
				},
				accessibility: {
					announceNewData: {
						enabled: true
					}
				},
				xAxis: {
					type: 'category'
				},
				legend: {
					enabled: false
				},
				plotOptions: {
					series: {
						borderWidth: 0,
						dataLabels: {
							enabled: true,
							// format: '{point.y:.1f}%'
						},
						enableMouseTracking: false,
					}
				},

				tooltip: {
					headerFormat: '<span style="font-size:11px">{series.name}</span><br>',
					pointFormat: '<span style="color:{point.color}">{point.name}</span>: <b>{point.y:.2f}%</b> of total<br/>'
				},

				series: [
					{
						colorByPoint: true,
						data: data.map(i => {
							return {
								name: i[0],
								y: i[1]
							}
						})
					}
				]
			});
		}
	});
	return false;
}
</script>

</body>
</html>
